<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="theme-color" content="#0b0f18">
  <meta name="description" content="MEDIS - Media Embedding Delivery for Interactive Sharing">
  <title>MEDIS | Media Downloader</title>

  <link rel="icon" href="/favicon.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Space+Grotesk:wght@600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
</head>

<body>
  <header class="status-header">
    <div class="status-container">
      <div class="status-left">
        <a href="/" class="brand-link">
          <img src="/favicon.ico" alt="MEDIS" class="brand-logo">
          <span class="brand-text">MEDIS</span>
        </a>

        <div class="status-group">
          <div class="status-badge">
            <svg class="status-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M3,15V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V15H19V19H5V15H3M12,14L17,9H14V3H10V9H7L12,14Z"/>
            </svg>
            <span class="status-count" id="downloading-count">0</span>
            <span class="status-label">downloading</span>
          </div>

          <div class="status-badge">
            <svg class="status-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"/>
            </svg>
            <span class="status-count" id="completed-count">0</span>
            <span class="status-label">completed</span>
          </div>
        </div>
      </div>

      <div class="progress-container" id="progress-bar-container" style="display:none;">
        <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
          <div class="progress-fill" id="progress-bar-inner"></div>
          <div class="progress-text" id="progress-text">Preparing...</div>
        </div>
      </div>
    </div>
  </header>

  <main class="main-content">
    <div class="content-wrapper">
      <section class="hero-section">
        <div class="hero-content">
          <h1 class="hero-title">MEDIS</h1>
          <p class="hero-kicker">Media Embedding Delivery for Interactive Sharing</p>
          <p class="hero-desc">A seamless, platform-independent workflow to fetch, convert, and</p>
          <p class="hero-desc">share videos from any URL</p>
        </div>

        <div class="download-container">
          <div class="input-shell">
            <input class="url-input" id="video-url" type="url" inputmode="url" placeholder="Paste a video link (YouTube, Instagram, TikTok, etc.)" autocomplete="off" spellcheck="false">
            <button class="download-button" id="download-btn" type="button">
              <span>Download</span>
            </button>
          </div>

          <div class="loading-state hidden" id="loading-indicator" aria-live="polite">
            <div class="loading-spinner"></div>
            <span>Submitting download request...</span>
          </div>
        </div>
      </section>

      <section class="library-section">
        <div class="library-header">
          <div class="library-heading">
            <h2 class="library-title">Video Library</h2>
            <div class="library-subtitle">Your downloaded content</div>
          </div>
        </div>

        <div class="video-grid" id="video-list"></div>
      </section>
    </div>
  </main>

  <footer class="main-footer">
    <div class="footer-content">
      <span class="footer-label">YT-DLP</span>
      <span class="version-value" id="ytdlp-version">loading...</span>
      <span class="footer-dot">•</span>
      <span class="footer-label">MEDIS</span>
      <span class="version-value" id="medis-version">loading...</span>
      <span class="footer-dot">•</span>
      <a href="https://github.com/raw-network/medis" target="_blank" rel="noopener noreferrer" class="github-link">
        <svg class="github-icon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true">
          <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8Z"></path>
        </svg>
        <span>GitHub</span>
      </a>
    </div>
  </footer>

  <div class="toast-container" id="toast-container" aria-live="polite" aria-atomic="true"></div>

  <div class="modal-overlay hidden" id="confirm-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="modal-title">Confirm Deletion</h3>
      </div>
      <div class="modal-body">
        <p id="modal-text" class="modal-message">Are you sure you want to delete this video?</p>
      </div>
      <div class="modal-actions">
        <button class="modal-button secondary" id="modal-cancel-btn" type="button">Cancel</button>
        <button class="modal-button danger" id="modal-confirm-btn" type="button">Delete</button>
      </div>
    </div>
  </div>

  <script src="/app.js"></script>
</body>
</html>
